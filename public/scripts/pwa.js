"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("_service-worker.js")})),$(document).ready((function(){"use strict";function e(e){for(var n=e+"=",o=document.cookie.split(";"),i=0;i<o.length;i++){for(var t=o[i];" "==t.charAt(0);)t=t.substring(1,t.length);if(0==t.indexOf(n))return t.substring(n.length,t.length)}return null}$("[data-pwa-version]").data("pwa-version","1.1"),setTimeout((function(){$(".pwa-dismiss").on("click",(function(){console.log("User Closed Add to Home / PWA Prompt"),function(e,n,o){var i=new Date;i.setTime(i.getTime()+1728e5);var t="; expires="+i.toGMTString();document.cookie="kolor_pwa_rejected_install="+!0+t+"; path=/"}(),$("body").find("#menu-install-pwa-android, #menu-install-pwa-ios, .menu-hider").removeClass("menu-active")}))}),1500);var n={Android:function(){return navigator.userAgent.match(/Android/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},any:function(){return n.Android()||n.iOS()||n.Windows()}},o=1==window.navigator.standalone;if(window.matchMedia("(display-mode: standalone)").matches,n.Android()){let n;console.log("Android Detected"),window.addEventListener("beforeinstallprompt",o=>{o.preventDefault(),n=o,console.log("Triggering PWA Prompt for Android"),$("#menu-install-pwa-android, .add-to-home").length&&(e("kolor_pwa_rejected_install")||setTimeout((function(){$(".add-to-home").addClass("add-to-home-visible add-to-home-android"),$("#menu-install-pwa-android, .menu-hider").addClass("menu-active")}),1500)),$("#menu-install-pwa-android, .add-to-home").length&&(e("kolor_pwa_rejected_install")||setTimeout((function(){$(".add-to-home").addClass("add-to-home-visible add-to-home-android"),$("#menu-install-pwa-android").addClass("menu-active"),$(".menu-hider").addClass("menu-active")}),1500))}),$(".pwa-install").on("click",(function(e){n.prompt(),n.userChoice.then(e=>{e.outcome,n=null})})),window.addEventListener("appinstalled",e=>{$("#menu-install-pwa-android, .menu-hider").removeClass("menu-active")})}function i(){$(".offline-message").addClass("offline-message-active"),$(".online-message").removeClass("online-message-active"),setTimeout((function(){$(".offline-message").removeClass("offline-message-active")}),2e3)}function t(){$(".online-message").addClass("online-message-active"),$(".offline-message").removeClass("offline-message-active"),setTimeout((function(){$(".online-message").removeClass("online-message-active")}),2e3)}function a(){if($(this).attr("href").match(/.html/))return i(),!1}n.iOS()&&(o||(console.log("iOS Detected"),$("#menu-install-pwa-ios, .add-to-home").length&&(e("kolor_pwa_rejected_install")||(console.log("Triggering PWA / Add to Home Screen Prompt for iOS"),setTimeout((function(){$(".add-to-home").addClass("add-to-home-visible add-to-home-ios"),$("#menu-install-pwa-ios, .menu-hider").addClass("menu-active")}),1500))))),$("body").on("click",".page-update, .reloadme",(function(){location.reload()})),navigator.onLine,$(".offline-message").length||($("body").append('<p class="offline-message bg-red2-dark color-white center-text uppercase ultrabold">No internet connection detected</p> '),$("body").append('<p class="online-message bg-green1-dark color-white center-text uppercase ultrabold">You are back online</p>')),$(".simulate-offline").on("click",(function(){i()})),$(".simulate-online").on("click",(function(){t()})),window.addEventListener("online",(function(e){navigator.onLine,t(),console.log("Connection: Online"),$("a").off("click",a)})),window.addEventListener("offline",(function(e){i(),$("a").on("click",a),console.log("Connection: Offline")}))}));